<!DOCTYPE html>
<html ng-app="placesApi" class="has-navbar-fixed-top">
  <head>
    <meta charset="utf-8">
    <title>Hidden Gems</title>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDdsDypPEp9X7T8qg-p41_pz_c2EYsqr8Y&libraries=places"></script>
  </head>
  <body ng-controller="MainCtrl">
    <nav class="navbar is-fixed-top">
      <div class="navbar-brand">
        <a class="navbar-item" ui-sref="home">Hidden ðŸ’Ž</a>

        <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" ng-class="{ 'is-active': navbarOpen }" ng-click="toggleMenu()">
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
        </a>
      </div>

      <div class="navbar-menu" ng-class="{ 'is-active': navbarOpen }">
        <div class="navbar-end">
          <a class="navbar-item" ui-sref="placesIndex">All the places</a>
          <a class="navbar-item" ui-sref="placesNew" ng-if="isAuthenticated()">New place</a>
          <a class="navbar-item" ui-sref="login" ng-if="!isAuthenticated()">Login</a>
          <a class="navbar-item" ui-sref="register" ng-if="!isAuthenticated()">Register</a>
          <a class="navbar-item" ng-click="logout()" ng-if="isAuthenticated()">Logout</a>
        </div>
      </div>
    </nav>

    <div class="notification is-{{flashMessage.type}} is-flash" ng-class="{ 'is-active': flashMessage }">
      {{ flashMessage.content }}
    </div>

    <section class="section" ng-if="!isHomepage">
      <div class="container">
        <ui-view></ui-view>
      </div>
    </section>

    <ui-view ng-if="isHomepage"></ui-view>
  </body>
</html>
