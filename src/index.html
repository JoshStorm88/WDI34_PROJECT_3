<!DOCTYPE html>
<html ng-app="placesApi" class="has-navbar-fixed-top">
<head>
  <meta charset="utf-8">
  <title>Hidden Gems</title>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD5l8LZyITAru4A3U8nyx-riblGU0yt6Cw&libraries=places"></script>
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">
  <link data-require="fontawesome@*" data-semver="4.1.0" rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" />
  <link href="https://fonts.googleapis.com/css?family=Quicksand" rel="stylesheet">
</head>
<body ng-controller="MainCtrl">
  <nav class="navbar is-fixed-top">
    <div class="navbar-brand">
      <a class="navbar-item" ui-sref="home">ðŸ’Ž Home</a>

      <a role="button" class="navbar-burger is-white" aria-label="menu" aria-expanded="false" ng-class="{ 'is-active': navbarOpen }" ng-click="toggleMenu()">
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
      </a>
    </div>

    <div class="navbar-menu" ng-class="{ 'is-active': navbarOpen }">
      <div class="navbar-end">
        <a class="navbar-item" ui-sref="profile" ng-if="isAuthenticated()">Welcome back, {{ currentUser.username }}!</a>
        <a class="navbar-item" ui-sref="placesIndex">All Hidden Gems</a>
        <a class="navbar-item" ui-sref="placesNew" ng-if="isAuthenticated()">New Gem</a>
        <a class="navbar-item" ui-sref="login" ng-if="!isAuthenticated()">Login</a>
        <a class="navbar-item" ui-sref="register" ng-if="!isAuthenticated()">Register</a>
        <a class="navbar-item" ng-click="logout()" ng-if="isAuthenticated()">Logout</a>
      </div>
    </div>
  </nav>

  <div class="notification is-{{flashMessage.type}} is-flash" ng-class="{ 'is-active': flashMessage }">
    {{ flashMessage.content }}
  </div>

  <section class="section" ng-if="!isHomepage">
    <div class="container">
      <ui-view></ui-view>
    </div>
  </section>

  <ui-view ng-if="isHomepage"></ui-view>
</body>
</html>
